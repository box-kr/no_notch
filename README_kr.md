# NoNotch

macOS 노치가 있는 디스플레이에서 **메뉴바를 노치 없애주는** 경량 유틸리티 앱입니다.

디스플레이 해상도를 노치 높이만큼 줄여 메뉴바가 노치에 가려지지 않도록 합니다.

---

## ✨ 주요 기능

| 기능 | 설명 |
|------|------|
| **노치 우회** | 디스플레이 해상도를 노치 아래 영역에 맞게 자동 변경 |
| **원클릭 토글** | 메뉴바 아이콘 좌클릭으로 즉시 활성화/비활성화 |
| **상태 유지** | 앱 재시작 시 마지막 상태 자동 복원 (`UserDefaults`) |
| **로그인 시 자동 시작** | `SMAppService`를 통한 macOS 네이티브 로그인 항목 등록 |
| **화면 변경 감지** | 외부 모니터 연결/해제 시 자동 재적용 |
| **Buy Me a Coffee** | 3회 토글마다 앱 내 WebView 다이얼로그로 후원 페이지 자동 표시 |
| **다국어 지원** | 한국어 · 일본어 · 중국어 · 영어 (macOS 시스템 언어 자동 감지) |

---

## 🌐 지원 언어

| 언어 | 코드 | 비고 |
|------|------|------|
| 🇰🇷 한국어 | `ko` | |
| 🇯🇵 日本語 | `ja` | |
| 🇨🇳 中文 | `zh` | 간체 |
| 🇺🇸 English | `en` | 기본값 (폴백) |

macOS **시스템 환경설정 > 일반 > 언어 및 지역** 의 기본 언어를 자동으로 감지합니다.  
지원하지 않는 언어일 경우 영어(English)로 표시됩니다.



## 🚀 실행 및 설치

```bash
# 커스텀 탭 레파지토리 등록
brew tap box-kr/homebrew-nonotch

# 애플리케이션 설치
brew install --cask nonotch
```

업데이트된 경우 사용자는 다음과 같이 업그레이드할 수 있습니다:
```bash
brew upgrade nonotch
```

---

## 🚀 실행 및 설치 이후

1. 설치를 완료한 후, macOS의 `응용 프로그램 (Applications)` 폴더에서 아래 화면과 같이 앱 아이콘을 찾아 실행할 수 있습니다.

![Application](./Application.png)

2. 앱을 실행하면 화면 상단 메뉴 바(Menu Bar)에 앱 아이콘이 등록되어 표시됩니다.

![Menu Bar Icon](./menu_bar_icon.png)

3. 메뉴 바 아이콘을 두 번 클릭(또는 클릭하여 활성화)하면 앱이 동작하며, 물리적인 화면 노치(Notch)에 의해 가려졌던 모든 메뉴바 컨텐츠들이 아래로 내려와 사용자에게 온전히 보이게 됩니다.

---

## 📖 사용법

### 기본 조작

- **좌클릭**: 노치 바 활성화/비활성화 토글
- **우클릭**: 메뉴 열기

### 메뉴 구성

```
┌─────────────────────────────────┐
│ 노치 바 활성화 / 비활성화        │  ← Enable / Disable Notch Bar
├─────────────────────────────────┤
│ 로그인 시 자동 시작        ✓/✗  │  ← Launch at Login
├─────────────────────────────────┤
│ ☕ Buy Me a Coffee              │
├─────────────────────────────────┤
│ 노치 감지됨 (높이: 32pt)        │  ← Notch detected (height: 32pt)
│ 현재: 3024×1964 → 변경: ...     │  ← Current: 3024×1964 → ...
├─────────────────────────────────┤
│ 종료                       ⌘Q  │  ← Quit
└─────────────────────────────────┘
```

> 💡 메뉴 텍스트는 macOS 시스템 언어에 따라 자동으로 변환됩니다.



## 🔧 핵심 아키텍처


### 디스플레이 모드 변경 전략 (`NotchOverlayManager`)

노치 아래에 맞는 최적의 디스플레이 모드를 4단계 전략으로 탐색합니다:

1. **정확 일치** — 같은 너비 + (현재 높이 - 노치 높이) 모드
2. **같은 너비 근접** — 같은 너비, targetHeight 이하 중 가장 큰 모드
3. **같은 너비 상위** — 같은 너비, targetHeight보다 크지만 현재보다는 작은 모드
4. **유사 너비** — ±100px 범위의 너비, 가장 큰 해상도


## ⚠️ 요구 사항

- macOS 12.0 (Monterey) 이상
- Apple Silicon (arm64) Mac
- 노치가 있는 디스플레이 (MacBook Pro 14"/16" 등)
- 화면 녹화/접근성 권한이 필요할 수 있음 (디스플레이 모드 변경 시)

---

## ☕ 후원

이 프로젝트가 유용하다면 커피 한 잔 사주세요!

👉 [Buy Me a Coffee](https://buymeacoffee.com/funbox.kr)

---

## 📄 라이선스

Copyright © 2026. FunBox All rights reserved.
